<html>
<head>
	<meta charset="utf-8">
	<script>
		function Persona(_nombre, _apellido) {
			var id;
			var nombre = _nombre;
			var apellido = _apellido;

			this.setId = function(i) { id = i; };
			this.getId = function() { return id; };
			this.setNombre = function(n) { nombre = n; };
			this.getNombre = function() { return nombre; };
			this.setApellido = function(a) { apellido = a; };
			this.getApellido = function() { return apellido; };
			this.toString = function() {
				return "[ id = " + id +
					", nombre = " + nombre +
					", apellido = " + apellido + "]";
			};
		}

		var p1 = new Persona("Juan", "Pérez");
		p1.reir = function() {
			document.writeln("Estoy riendo...<br>");
		};
		
		var miLlorar = function() {
			document.writeln("Estoy llorando...<br>");
		};
		
		var personas = [
			p1,
			new Persona("María", "García")
		];
		personas.push(new Persona("Carlos", "Ramírez"));
		personas.push({
			id: 4,
			nombre: 'José',
			apellido: 'No tiene',
			reir: function() {
				document.writeln('No sólo Pedro rie');
			},
			getNombre: function() {
				return this.nombre;
			},
			toString: function() {
				return "no hay";
			}
		});
		var p3 = {
			id: 4,
			nombre: 'Elena',
			apellido: 'No tiene',
			toString: function() {
				return "no hay";
			}
		};
		p3.reir = p1.reir;
		personas.push(p3);

		Persona.prototype.saludar = function() {
			document.writeln("Hola " + this.getNombre() + "<br>");
		}
	
		for (var i in personas)  {
			document.writeln(personas[i] + "<br>"); // toString()
			document.writeln("nombre = " + personas[i].getNombre() + "<br>");
			if (typeof personas[i].nombre != 'undefined')
				document.writeln("this.nombre = " + personas[i].nombre + "<br>");
			if (typeof personas[i].reir != 'undefined')
				personas[i].reir();
			if (typeof personas[i].saludar != 'undefined')
				personas[i].saludar();
			personas[i].llorar = miLlorar;
			personas[i].llorar();
	
		}
			

	</script>
</head>
<body>
</body>
</html>











