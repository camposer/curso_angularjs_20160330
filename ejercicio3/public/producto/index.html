<html ng-app="app">
	<head>
		<meta charset="utf-8">
		<link rel="stylesheet" href="vendor/css/bootstrap.css">
	</head>
	<body ng-controller="ProductoCtrl as ctrl">
		<div class="container">
			<h1>Productos</h1>


			<div class="alert alert-danger" ng-show="ctrl.error.length > 0">
			  <ul>
			  	<li ng-repeat="e in ctrl.error">{{e}}</li>
			  </ul>
			</div>

			<form class="form-horizontal" name="form" ng-submit="ctrl.guardar(form)" novalidate>
			  <input type="hidden" id="id">
			  <div class="form-group">
			    <label for="nombre" class="col-sm-2 control-label">Nombre</label>
			    <div class="col-sm-10">
			      <input type="text" class="form-control" name="nombre" placeholder="Nombre" ng-model="ctrl.producto.nombre" required ng-minlength="3">

			      <span ng-show="ctrl.error.length > 0 && form.nombre.$invalid">Nombre inválido</span>
			    </div>
			  </div>
			  <div class="form-group">
			    <label for="precio" class="col-sm-2 control-label">Precio</label>
			    <div class="col-sm-10">
			      <input type="number" class="form-control" name="precio" placeholder="Precio" ng-model="ctrl.producto.precio" required>
			      <span ng-show="ctrl.error.length > 0 && form.precio.$invalid">Precio inválido</span>
			    </div>
			  </div>
			  <div class="form-group">
			    <div class="col-sm-offset-2 col-sm-10">
			      <input type="submit" class="btn btn-default" value='Guardar'>
			    </div>
			  </div>
			</form>

			<hr>
			<table id="tabla-productos" class="table table-striped">
				<thead>
					<tr>
						<th>Id</th>
						<th>Nombre</th>
						<th>Precio</th>
						<th>Mostrar</th>
						<th>Eliminar</th>
					</tr>
				</thead>
					<tr ng-repeat="p in ctrl.productos">
						<td>{{::p.id}}</td>
						<td>{{::p.nombre}}</td>
						<td>{{::p.precio}}</td>
						<td><a href ng-click="ctrl.mostrar(p)">mostrar</a></td>
						<td><a href ng-click="ctrl.eliminar(p.id)">eliminar</a></td>
					</tr>
				<tbody>
				</tbody>
			</table>
		</div>

		<!-- Vendor -->
		<script src="vendor/js/jquery-1.12.2.js"></script>
		<script src="vendor/js/bootstrap.js"></script>
		<script src="vendor/js/angular.js"></script>

		<!-- App -->
		<script src="script/app.js"></script>
		<script src="script/producto/module.js"></script>
		<script src="script/producto/controller/producto.js"></script>
		<script src="script/producto/service/producto.js"></script>

	</body>
</html>
